<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeThere - WebSocket Migration Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    colors: {
                        background: "var(--background)",
                        foreground: "var(--foreground)",
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                        popover: {
                            DEFAULT: "var(--popover)",
                            foreground: "var(--popover-foreground)",
                        },
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        success: "var(--success)",
                        warning: "var(--warning)",
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "sans-serif"],
                    }
                },
            }
        };
    </script>
    <style>
        :root {
            --background: hsl(210 40% 98%);
            --foreground: hsl(210 11% 15%);
            --card: hsl(0 0% 100%);
            --card-foreground: hsl(210 11% 15%);
            --popover: hsl(0 0% 100%);
            --popover-foreground: hsl(210 11% 15%);
            --primary: hsl(221 83% 53%);
            --primary-foreground: hsl(210 40% 98%);
            --secondary: hsl(210 40% 96%);
            --secondary-foreground: hsl(210 11% 15%);
            --muted: hsl(210 40% 96%);
            --muted-foreground: hsl(215 16% 47%);
            --accent: hsl(210 40% 96%);
            --accent-foreground: hsl(210 11% 15%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(210 40% 98%);
            --border: hsl(214 32% 91%);
            --input: hsl(214 32% 91%);
            --ring: hsl(221 83% 53%);
            --success: hsl(142 76% 36%);
            --warning: hsl(38 92% 50%);
            --radius: 0.75rem;
        }
        
        .animate-pulse-slow {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .animate-bounce-subtle {
            animation: bounce 2s infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        .connection-indicator {
            position: relative;
        }
        
        .connection-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
            background: inherit;
            opacity: 0.3;
            animation: pulse 2s infinite;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-background text-foreground font-sans antialiased">
    
    <!-- @COMPONENT: Header [Contains app title, connection status, and navigation] -->
    <header class="border-b border-border bg-card/80 backdrop-blur-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <h1 class="text-2xl font-bold text-foreground">BeThere</h1>
                    <span class="text-sm text-muted-foreground">WebSocket Migration</span>
                </div>
                
                <!-- Connection Status Indicator -->
                <div class="flex items-center space-x-3">
                    <div class="flex items-center space-x-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/20">
                        <div class="w-2 h-2 bg-success rounded-full connection-indicator"></div>
                        <span class="text-sm font-medium text-success" data-bind="connectionStatus">Connected</span>
                    </div>
                    <div class="text-sm text-muted-foreground" data-bind="clientCount">
                        <span data-mock="true">8</span> clients
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <main class="container mx-auto px-4 py-8 space-y-8">
        
        <!-- @COMPONENT: MigrationOverview [Shows the before/after comparison] -->
        <section class="space-y-6">
            <div class="text-center space-y-2">
                <h2 class="text-3xl font-bold text-foreground">REST to WebSocket Migration</h2>
                <p class="text-lg text-muted-foreground">Real-time location broadcasting and live participant updates</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Before: REST Polling -->
                <div class="bg-card border border-border rounded-lg p-6 space-y-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-3 h-3 bg-destructive rounded-full opacity-60"></div>
                        <h3 class="text-xl font-semibold text-foreground">Before: REST Polling</h3>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-muted/50 rounded-md">
                            <span class="text-sm font-medium">Update Frequency</span>
                            <span class="text-sm text-destructive font-mono">Every 10 seconds</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-muted/50 rounded-md">
                            <span class="text-sm font-medium">Data Transfer</span>
                            <span class="text-sm text-muted-foreground">Request/Response</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-muted/50 rounded-md">
                            <span class="text-sm font-medium">Latency</span>
                            <span class="text-sm text-muted-foreground">High (polling delay)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-muted/50 rounded-md">
                            <span class="text-sm font-medium">Server Load</span>
                            <span class="text-sm text-destructive">High (continuous requests)</span>
                        </div>
                    </div>
                    
                    <div class="pt-4 border-t border-border">
                        <div class="text-xs font-mono text-muted-foreground">
                            <div data-mock="true">useLocationReporter:</div>
                            <div data-mock="true">timer.current = setInterval(once, 10000)</div>
                        </div>
                    </div>
                </div>
                
                <!-- After: WebSocket -->
                <div class="bg-card border border-success/30 rounded-lg p-6 space-y-4 ring-1 ring-success/20">
                    <div class="flex items-center space-x-3">
                        <div class="w-3 h-3 bg-success rounded-full connection-indicator"></div>
                        <h3 class="text-xl font-semibold text-foreground">After: WebSocket</h3>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-success/10 rounded-md">
                            <span class="text-sm font-medium">Update Frequency</span>
                            <span class="text-sm text-success font-mono">Real-time</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-success/10 rounded-md">
                            <span class="text-sm font-medium">Data Transfer</span>
                            <span class="text-sm text-success">Bidirectional events</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-success/10 rounded-md">
                            <span class="text-sm font-medium">Latency</span>
                            <span class="text-sm text-success">Low (instant updates)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-success/10 rounded-md">
                            <span class="text-sm font-medium">Server Load</span>
                            <span class="text-sm text-success">Low (persistent connection)</span>
                        </div>
                    </div>
                    
                    <div class="pt-4 border-t border-border">
                        <div class="text-xs font-mono text-muted-foreground">
                            <div data-mock="true">socket.emit('location-update', coords)</div>
                            <div data-mock="true">socket.on('participant-moved', handleUpdate)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: MigrationOverview -->
        
        <!-- @COMPONENT: WebSocketEventStream [Shows live events and data flow] -->
        <section class="space-y-6">
            <h2 class="text-2xl font-bold text-foreground">Live WebSocket Events</h2>
            
            <div class="grid lg:grid-cols-3 gap-6">
                <!-- Event Log -->
                <div class="lg:col-span-2 bg-card border border-border rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-foreground">Event Stream</h3>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-success rounded-full animate-pulse-slow"></div>
                            <span class="text-sm text-muted-foreground">Live</span>
                        </div>
                    </div>
                    
                    <div class="space-y-2 max-h-80 overflow-y-auto">
                        <!-- @MAP: events.map(event => ( -->
                        <div class="animate-fade-in p-3 bg-muted/30 rounded-md border-l-4 border-l-success" data-mock="true">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-success">location-update</span>
                                <span class="text-xs text-muted-foreground">12:34:56</span>
                            </div>
                            <div class="text-xs font-mono text-muted-foreground mt-1">
                                User: john_doe | Event: event-123 | Lat: 37.7749, Lng: -122.4194
                            </div>
                        </div>
                        
                        <div class="animate-fade-in p-3 bg-muted/30 rounded-md border-l-4 border-l-primary" data-mock="true">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-primary">participant-joined</span>
                                <span class="text-xs text-muted-foreground">12:34:52</span>
                            </div>
                            <div class="text-xs font-mono text-muted-foreground mt-1">
                                User: sarah_k | Event: event-123
                            </div>
                        </div>
                        
                        <div class="animate-fade-in p-3 bg-muted/30 rounded-md border-l-4 border-l-warning" data-mock="true">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-warning">eta-updated</span>
                                <span class="text-xs text-muted-foreground">12:34:48</span>
                            </div>
                            <div class="text-xs font-mono text-muted-foreground mt-1">
                                User: mike_r | ETA: 8 minutes | Event: event-123
                            </div>
                        </div>
                        
                        <div class="animate-fade-in p-3 bg-muted/30 rounded-md border-l-4 border-l-success" data-mock="true">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-success">location-update</span>
                                <span class="text-xs text-muted-foreground">12:34:45</span>
                            </div>
                            <div class="text-xs font-mono text-muted-foreground mt-1">
                                User: alex_m | Event: event-456 | Lat: 40.7128, Lng: -74.0060
                            </div>
                        </div>
                        
                        <div class="animate-fade-in p-3 bg-muted/30 rounded-md border-l-4 border-l-destructive" data-mock="true">
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-destructive">connection-lost</span>
                                <span class="text-xs text-muted-foreground">12:34:41</span>
                            </div>
                            <div class="text-xs font-mono text-muted-foreground mt-1">
                                User: emma_j | Attempting reconnection...
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>
                
                <!-- Connection Stats -->
                <div class="space-y-4">
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-foreground mb-4">Connection Stats</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-muted-foreground">Active Connections</span>
                                <span class="text-lg font-semibold text-success" data-bind="activeConnections" data-mock="true">8</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-muted-foreground">Events/min</span>
                                <span class="text-lg font-semibold text-primary" data-bind="eventsPerMinute" data-mock="true">142</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-muted-foreground">Avg Latency</span>
                                <span class="text-lg font-semibold text-success" data-bind="avgLatency" data-mock="true">23ms</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm text-muted-foreground">Uptime</span>
                                <span class="text-lg font-semibold text-foreground" data-bind="uptime" data-mock="true">99.8%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Event Types -->
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-foreground mb-4">Event Types</h3>
                        <div class="space-y-2">
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-success rounded-full"></div>
                                <span class="text-sm">location-update</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-primary rounded-full"></div>
                                <span class="text-sm">participant-joined</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-warning rounded-full"></div>
                                <span class="text-sm">eta-updated</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-destructive rounded-full"></div>
                                <span class="text-sm">connection-lost</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 bg-accent rounded-full"></div>
                                <span class="text-sm">event-updated</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: WebSocketEventStream -->
        
        <!-- @COMPONENT: ParticipantTracking [Shows real-time participant locations and ETAs] -->
        <section class="space-y-6">
            <h2 class="text-2xl font-bold text-foreground">Real-Time Participant Tracking</h2>
            
            <div class="grid lg:grid-cols-2 gap-6">
                <!-- Participants List -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-foreground">Event: Team Lunch</h3>
                        <span class="px-3 py-1 bg-primary/10 text-primary text-sm rounded-full border border-primary/20" data-mock="true">
                            5 participants
                        </span>
                    </div>
                    
                    <div class="space-y-4">
                        <!-- @MAP: participants.map(participant => ( -->
                        <div class="flex items-center space-x-4 p-4 bg-muted/30 rounded-lg" data-mock="true">
                            <div class="w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center">
                                <span class="text-sm font-semibold text-primary">JD</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-medium text-foreground">John Doe</span>
                                    <div class="w-2 h-2 bg-success rounded-full connection-indicator"></div>
                                </div>
                                <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                    <span data-bind="lastUpdate">Updated 2s ago</span>
                                    <span data-bind="eta" class="text-success font-medium">ETA: 8 min</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-medium text-foreground" data-bind="distance">1.2 km</div>
                                <div class="text-xs text-muted-foreground">away</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 p-4 bg-muted/30 rounded-lg" data-mock="true">
                            <div class="w-10 h-10 bg-secondary/20 rounded-full flex items-center justify-center">
                                <span class="text-sm font-semibold text-secondary-foreground">SK</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-medium text-foreground">Sarah Kim</span>
                                    <div class="w-2 h-2 bg-success rounded-full connection-indicator"></div>
                                </div>
                                <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                    <span data-bind="lastUpdate">Updated 1s ago</span>
                                    <span data-bind="eta" class="text-warning font-medium">ETA: 15 min</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-medium text-foreground" data-bind="distance">3.7 km</div>
                                <div class="text-xs text-muted-foreground">away</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 p-4 bg-muted/30 rounded-lg" data-mock="true">
                            <div class="w-10 h-10 bg-accent/20 rounded-full flex items-center justify-center">
                                <span class="text-sm font-semibold text-accent-foreground">MR</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-medium text-foreground">Mike Rogers</span>
                                    <div class="w-2 h-2 bg-warning rounded-full animate-pulse-slow"></div>
                                </div>
                                <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                    <span data-bind="lastUpdate">Updated 30s ago</span>
                                    <span data-bind="eta" class="text-muted-foreground">ETA: calculating...</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-medium text-foreground" data-bind="distance">0.8 km</div>
                                <div class="text-xs text-muted-foreground">away</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-4 p-4 bg-muted/30 rounded-lg opacity-60" data-mock="true">
                            <div class="w-10 h-10 bg-muted/40 rounded-full flex items-center justify-center">
                                <span class="text-sm font-semibold text-muted-foreground">AM</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-medium text-muted-foreground">Alex Martinez</span>
                                    <div class="w-2 h-2 bg-destructive rounded-full"></div>
                                </div>
                                <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                                    <span data-bind="lastUpdate">Last seen 5 min ago</span>
                                    <span data-bind="eta" class="text-destructive">Connection lost</span>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-medium text-muted-foreground" data-bind="distance">-- km</div>
                                <div class="text-xs text-muted-foreground">away</div>
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>
                
                <!-- WebSocket Implementation Details -->
                <div class="space-y-4">
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-foreground mb-4">WebSocket Implementation</h3>
                        
                        <div class="space-y-4">
                            <div class="p-4 bg-muted/30 rounded-lg">
                                <h4 class="font-medium text-foreground mb-2">Connection Management</h4>
                                <div class="text-sm text-muted-foreground space-y-1">
                                    <div data-mock="true">• Auto-reconnection with backoff</div>
                                    <div data-mock="true">• Connection state monitoring</div>
                                    <div data-mock="true">• Heartbeat/ping mechanism</div>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-muted/30 rounded-lg">
                                <h4 class="font-medium text-foreground mb-2">Event Handlers</h4>
                                <div class="text-sm text-muted-foreground space-y-1">
                                    <div data-mock="true">• location-update → updateParticipant()</div>
                                    <div data-mock="true">• participant-joined → addParticipant()</div>
                                    <div data-mock="true">• eta-updated → recalculateETAs()</div>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-muted/30 rounded-lg">
                                <h4 class="font-medium text-foreground mb-2">Error Handling</h4>
                                <div class="text-sm text-muted-foreground space-y-1">
                                    <div data-mock="true">• Fallback to REST polling</div>
                                    <div data-mock="true">• Connection timeout handling</div>
                                    <div data-mock="true">• Data synchronization on reconnect</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Code Preview -->
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-foreground mb-4">Code Preview</h3>
                        <div class="bg-muted/50 rounded-lg p-4 font-mono text-sm">
                            <div class="text-muted-foreground" data-mock="true">
                                <div class="text-success">// WebSocket location reporting</div>
                                <div class="mt-2">useEffect(() => {</div>
                                <div class="ml-2">socket.on('location-request', () => {</div>
                                <div class="ml-4">navigator.geolocation.getCurrentPosition(</div>
                                <div class="ml-6">(pos) => socket.emit('location-update', {</div>
                                <div class="ml-8">eventId, lat: pos.coords.latitude,</div>
                                <div class="ml-8">lng: pos.coords.longitude</div>
                                <div class="ml-6">})</div>
                                <div class="ml-4">)</div>
                                <div class="ml-2">})</div>
                                <div>}, [socket, eventId])</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: ParticipantTracking -->
        
        <!-- @COMPONENT: TechnicalSpecs [Shows migration details and requirements] -->
        <section class="space-y-6">
            <h2 class="text-2xl font-bold text-foreground">Technical Implementation</h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Architecture Changes -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-foreground mb-4">Architecture Changes</h3>
                    <div class="space-y-3">
                        <div class="p-3 bg-destructive/10 rounded-md border border-destructive/20">
                            <div class="text-sm font-medium text-destructive mb-1">Remove</div>
                            <div class="text-xs text-muted-foreground">10-second polling timer</div>
                        </div>
                        <div class="p-3 bg-success/10 rounded-md border border-success/20">
                            <div class="text-sm font-medium text-success mb-1">Add</div>
                            <div class="text-xs text-muted-foreground">WebSocket server setup</div>
                        </div>
                        <div class="p-3 bg-primary/10 rounded-md border border-primary/20">
                            <div class="text-sm font-medium text-primary mb-1">Update</div>
                            <div class="text-xs text-muted-foreground">Event handling system</div>
                        </div>
                        <div class="p-3 bg-warning/10 rounded-md border border-warning/20">
                            <div class="text-sm font-medium text-warning mb-1">Maintain</div>
                            <div class="text-xs text-muted-foreground">Prisma schema & JWT auth</div>
                        </div>
                    </div>
                </div>
                
                <!-- WebSocket Events -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-foreground mb-4">WebSocket Events</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center justify-between p-2 bg-muted/30 rounded">
                            <span class="font-mono text-success">location-update</span>
                            <span class="text-xs text-muted-foreground">Client → Server</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-muted/30 rounded">
                            <span class="font-mono text-primary">participant-moved</span>
                            <span class="text-xs text-muted-foreground">Server → Clients</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-muted/30 rounded">
                            <span class="font-mono text-warning">eta-calculated</span>
                            <span class="text-xs text-muted-foreground">Server → Clients</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-muted/30 rounded">
                            <span class="font-mono text-accent">event-updated</span>
                            <span class="text-xs text-muted-foreground">Server → Clients</span>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-muted/30 rounded">
                            <span class="font-mono text-secondary">join-event</span>
                            <span class="text-xs text-muted-foreground">Client → Server</span>
                        </div>
                    </div>
                </div>
                
                <!-- Implementation Checklist -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-foreground mb-4">Implementation Checklist</h3>
                    <div class="space-y-2">
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-success rounded-sm flex items-center justify-center">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-sm" data-mock="true">Install Socket.io dependencies</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-success rounded-sm flex items-center justify-center">
                                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <span class="text-sm" data-mock="true">Create custom server setup</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-warning rounded-sm flex items-center justify-center">
                                <div class="w-2 h-2 bg-white rounded-full"></div>
                            </div>
                            <span class="text-sm" data-mock="true">Replace useLocationReporter hook</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-muted rounded-sm border border-border"></div>
                            <span class="text-sm text-muted-foreground" data-mock="true">Convert API routes to events</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-muted rounded-sm border border-border"></div>
                            <span class="text-sm text-muted-foreground" data-mock="true">Add connection management</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-muted rounded-sm border border-border"></div>
                            <span class="text-sm text-muted-foreground" data-mock="true">Implement fallback mechanisms</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-4 h-4 bg-muted rounded-sm border border-border"></div>
                            <span class="text-sm text-muted-foreground" data-mock="true">Add error handling & retry logic</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: TechnicalSpecs -->
        
        <!-- @COMPONENT: BenefitsSection [Shows performance improvements and benefits] -->
        <section class="bg-gradient-to-r from-primary/5 to-success/5 rounded-xl p-8 space-y-6">
            <div class="text-center space-y-2">
                <h2 class="text-2xl font-bold text-foreground">Migration Benefits</h2>
                <p class="text-muted-foreground">Expected improvements after WebSocket implementation</p>
            </div>
            
            <div class="grid md:grid-cols-4 gap-6">
                <div class="text-center space-y-2">
                    <div class="text-3xl font-bold text-success" data-mock="true">90%</div>
                    <div class="text-sm text-muted-foreground">Reduced latency</div>
                </div>
                <div class="text-center space-y-2">
                    <div class="text-3xl font-bold text-primary" data-mock="true">75%</div>
                    <div class="text-sm text-muted-foreground">Lower server load</div>
                </div>
                <div class="text-center space-y-2">
                    <div class="text-3xl font-bold text-warning" data-mock="true">100%</div>
                    <div class="text-sm text-muted-foreground">Real-time updates</div>
                </div>
                <div class="text-center space-y-2">
                    <div class="text-3xl font-bold text-accent" data-mock="true">85%</div>
                    <div class="text-sm text-muted-foreground">Bandwidth savings</div>
                </div>
            </div>
        </section>
        <!-- @END_COMPONENT: BenefitsSection -->
        
    </main>
    
    <!-- @COMPONENT: Footer [Contains development notes and status] -->
    <footer class="border-t border-border bg-card/50 backdrop-blur-sm mt-12">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="text-sm text-muted-foreground">
                    <span data-mock="true">BeThere WebSocket Migration Design • Next.js + Socket.io</span>
                </div>
                <div class="flex items-center space-x-4 text-sm text-muted-foreground">
                    <span data-mock="true">Migration Status: In Progress</span>
                    <div class="w-2 h-2 bg-warning rounded-full animate-pulse-slow"></div>
                </div>
            </div>
        </div>
    </footer>
    <!-- @END_COMPONENT: Footer -->
    
    <script>
        (function() {
            // TODO: Implement WebSocket connection management
            // TODO: Implement real-time event handling
            // TODO: Implement fallback mechanisms for connection failures
            
            // Simulate real-time updates for demonstration
            const eventLog = document.querySelector('.space-y-2.max-h-80');
            const stats = {
                activeConnections: document.querySelector('[data-bind="activeConnections"]'),
                eventsPerMinute: document.querySelector('[data-bind="eventsPerMinute"]'),
                avgLatency: document.querySelector('[data-bind="avgLatency"]')
            };
            
            // Simulate connection status changes
            const connectionStatus = document.querySelector('[data-bind="connectionStatus"]');
            const connectionIndicators = document.querySelectorAll('.connection-indicator');
            
            let isConnected = true;
            setInterval(() => {
                // Randomly simulate connection status changes for demo
                if (Math.random() > 0.95) {
                    isConnected = !isConnected;
                    if (connectionStatus) {
                        connectionStatus.textContent = isConnected ? 'Connected' : 'Reconnecting...';
                        connectionStatus.parentElement.className = isConnected 
                            ? 'flex items-center space-x-2 px-3 py-1.5 rounded-full bg-success/10 border border-success/20'
                            : 'flex items-center space-x-2 px-3 py-1.5 rounded-full bg-warning/10 border border-warning/20';
                    }
                }
            }, 3000);
            
            // Simulate stats updates
            setInterval(() => {
                if (stats.eventsPerMinute) {
                    const current = parseInt(stats.eventsPerMinute.textContent);
                    stats.eventsPerMinute.textContent = current + Math.floor(Math.random() * 10 - 5);
                }
                if (stats.avgLatency) {
                    const latency = 20 + Math.floor(Math.random() * 20);
                    stats.avgLatency.textContent = latency + 'ms';
                }
            }, 2000);
            
            console.log('BeThere WebSocket Migration Design loaded');
        })();
    </script>
    
</body>
</html>